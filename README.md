> **Warning**
>
> This README is a work in progress and is subject to change.


<div dir=rtl align=right>

# داستان یونیکد

<p align = "center">
<img src="/asset/saturn-ascii-i.png"  width="500" height="525">
</p>

<p align = "center">
داستان یونیکد

<p align = "center">
(
این تصویر با عنوان ascii art از 
سایت 
 <a href="https://scipython.com/blog/ascii-art">scipython</a> 
قرض گرفته شده است
)

# فهرست 
- [در مورد داستان یونیکد](#در-مورد-داستان-یونیکد)
- [در مورد اسپولسکی](#در-مورد-اسپولسکی)
- [مقدمه](#مقدمه)
- [قسمت اول: یک بیت اضافی](#قسمت-اول-یک-بیت-اضافی)
- [قسمت دوم: اینکدینگ های شخصی](#قسمت-دوم-اینکدینگ-های-شخصی)
- [قسمت سوم: کمی تعریف](#قسمت-سوم-کمی-تعریف)
- [قسمت چهارم](#)
- [قسمت پنجم](#)
- [قسمت ششم](#)


## در مورد داستان یونیکد

<span dir=ltr>
&nbsp;Joel Spolsky
</span>
بلاگی به نام
joelonsoftware
 دارد
 که داستان یونیکد از دل یکی از نوشته های او در این بلاگ، متولد شده است.

این مقاله در لیست 10 مطلب پرطرفدار این سایت با عنوان:

[The Absolute Minimum Every Software Developer Absolutely, Positively Must Know About Unicode and Character Sets (No Excuses!)](https://www.joelonsoftware.com/2003/10/08/the-absolute-minimum-every-software-developer-absolutely-positively-must-know-about-unicode-and-character-sets-no-excuses/) 

قرار دارد.

> **نکته**
>
> داستان یونیکد با الهام گرفتن از نوشته ی جوئل اسپولسکی و منابع دیگر نوشته شده و طبیعتا به علاقه مندان، دنبال کردن منابع اصلی پیشنهاد می شود.

`داستان یونیکد به جهت نیاز اش به نظرات، پیشنهادات و همکاری در جهت بهبود آن، در گیت هاب منتشر می شود.`


##  در مورد اسپولسکی

<p align = "center">
<img src="/asset/Joel-2016.webp">
</p>


اسپولسکی در سال 2000 از هم بنیانگذاران Fog Creek Software بود که چیز های جالب زیادی مثل FogBugz ، Trello و  Glitch را ایجاد کرد.

همچنین او به همراه Jeff Atwood سایت محبوب برنامه نویسان، Stack Overflow، را ساخت و طی سال های 2010 تا 2019 در آن جا به عنوان CEO مشغول بوده است.


بیشتر بخوانید: [About Joel Spolsky](https://www.joelonsoftware.com/about-me)



##  مقدمه

<p align = "center">
<img src="/asset/onions in submarine.png">

<p align = "center">
پوست کندن پیاز در زیردریایی

<p align = "center">
(
این تصویر توسط هوش مصنوعی
 <a href="https://hotpot.ai/art-generator">hotpot</a> 
ساخته شده است
)



آیا تا به حال در مورد تگ مرموز Content-Type فکر کرده اید؟

 می دانید که همان چیزی است که قرار است در HTML قرار دهید ولی نمیدانید دقیقا چه باید باشد؟

آیا تا به حال یک ایمیل از دوست تان در بلغارستان با عنوان " ???? ?????? ??? ???? " دریافت کرده اید؟

خب این دقیقا issue  اصلی این نوشته است که:  تعدادی از توسعه دهندگان نرم افزار واقعاً در دنیای مرموز character sets, encodings, Unicode و همه این چیزها، کاملاً آماده نیستند.

در اینجاست که اسپولسکی بیانیه ی جالبی دارد:

> اگر شما یک برنامه نویس در سال 2003 هستید و اصول اولیه ی characters, character sets, encodings و Unicode  را نمی دانید، و (اگر) من شما را دستیگر کنم، من شما را به پوست کردن پیاز به مدت 6 ماه در زیر دریایی تنبیه خواهم کرد. قسم میخورم که این کار رو می کنم.

و یک چیز دیگر:

> ### **(یادگیری این مطالب) آن قدر ها هم سخت نیست.**





##  قسمت اول: یک بیت اضافی

در ابتدای مقاله اصلی عنوان میشه که نمی خواد خیلی به قدیم بر گرده و کد گذاری های اون ها رو بررسی کنه.

داستان از این جا شروع میشه که آره، اون اوایل که اینترنت نبود و عملا خیلی ارتباطی به اون صورت شکل نمی گرفت یه جدول ASCII داشتیم که به هر حرف الفبای لاتین یک عدد اختصاص داده بودیم، این رو بهش میگن character encoding.



<p align = "center">
<img src="/asset/ascii table.png">

<p align = "center">
جدول ASCII که جهت "ذخیره سازی" کاراکتر ها، به هر کاراکتر یک عدد نگاشت می دهد.

توی جدول  ASCII، کارکتر های اصلی زبان انگلیسی (حروف الفبا + یک سری علائم نگارشی مثل !،؟،"، + اعداد + ...) بین اعداد 32 تا 127 قرار داشت. 

از 0 تا خود 32 هم یک سری چیز های عمومی مثل space یا null و shift in  و.. قرار داشت.

همونطور که مشخص هست، del آخرین کاراکتر موجود در جدول ascii هست که با عدد 127 مشخص شده.


پس تا اینجا میدونیم که: یک جدول به نام ASCII داریم که به کاراکتر های زبان انگلیسی یک عدد اختصاص میده که بشه ذخیره شون کرد. 

این یعنی چی ؟ یعنی حتی اگر بزرگ ترین کاراکتر توی جدول که به صورت عدد دارای مقدار 127 هست (کاراکتر del ) رو بخوایم ذخیره کنیم، باید عدد 127  ذخیره بشه. 

عدد 127 هم معادل باینری : 

<p align = "center">
<img src="/asset/127.png">


حالا چرا معادل باینری اش رو حساب کردیم؟ می خواستیم به چی برسیم؟

کامپیوتر های اون زمان، بایت های 8 بیتی داشتند. (همین بایت های 8 بیتی هم از اون موقع به ارث رسید برای ما.)

خب کل حرف این هست که اگر کاراکتر هامون رو با ASCII کد کنیم، در نهایت یک عدد بین 0 تا 127 رو باید ذخیره کنیم. این یعنی همیشه یک بیتِ پر ارزش از 8 بیتِ یک بایت خالی می مونه. 

این یعنی اعداد 128 تا 255 همچنان برای اینکود کردن یک کاراکتر موجود هستند ولی در ascii کاراکتری برای اون ها وجود نداره.

<br />


> شما می تونید جدول ascii به همراه فضای خالی باقی مونده در یک بایت رو در [اینجا](/asset/table.md) مشاهده کنید. 

<br />
<br />
<br />

در انتهای قسمت اول، فرصت مناسبی هست برای اینکه بیان کنیم عبارت: 
<div align= left dir= ltr>

```
plain text = ascii = characters are 8 bits
```
 </div>
نه تنها غلط هست بلکه به صورت نا امید کننده ای هم غلط هست. (به نظرتون چرا غلطه؟)




##  قسمت دوم: اینکدینگ های شخصی

تا الان از کاراکتر های ascii و نحوه ی ذخیره شون صحبت کردیم. اینجا مقاله میگه که اگر انگلیسی زبان باشید همه چی تا اینجا برای شما خوبه. (راست میگه)


گفتیم که بایت 8 بیت داره. زمانی که با ascii کد می کنیم کاراکترمون رو، 1 بیت از 8 بیت خالی میمونه.

این یعنی رنج اعداد 128 تا 255 هم برای تعریف کاراکتر موجود هستند (ولی ascii از 0 تا 127 رو فقط استفاده می کرد)


<p align = "center">
<img src="/asset/section 2 .jpg" width="700">




پس خیلی ها به فکرشون افتاد که بیایم از  128 تا 255 رو برای هدف خودمون استفاده کنیم.

<p align = "center">
<img src="/asset/imagination.jpg">

<p align = "center">
ساخت یک اینکدینگ اختصاصی با استفاده از فضایی که در کنار ascii برای تعریف کاراکترها وجود داشت.


این ایده خوب بود ولی مشکل اینجا بود که خیلی ها به صورت همزمان همین ایده رو به صورت های مختلف برای خودشون پیش بردند.

مثلا IBM اومد از 128 تا 255 یه سری کاراکتر درست کرد به اسم OEM که برای رسم خط استفاده میشد و دارای کاراکتر هایی مثل bar افقی و عمودی و خلاصه هر چیزی که مربوط به line drawing میشد، بود.


<p align = "center">
<img src="/asset/oem.webp">

<p align = "center">
OEM


حالا باید اشاره کنم که در همین حین مردم بیرون از آمریکا هم کم کم داشتند pc می خریدند و یکسری هاشون به این فکر افتادند که از 128 (128 تا 255 )کاراکتر ای که بالای جدول ascii وجود داره برای تعریف char set (مجموعه کاراکتر) خودشون استفاده کنند.
مثلا بعضی ها کد 130 رو برای نمایش é استفاده میکردند ولی دقیقا همین کد توی کامپیوتر هایی که زبان عبری داشتند، کاراکتر ג بود.

برا همین اگر یک آمریکایی کلمه ی  résumés رو برای یک اسرائیلی میفرستاد، اون طرف اسرائیلی اون کلمه رو sגsumגr میدید.


در خیلی از موارد مثل زبان روسی، ایده های بسیار مختلفی در مورد اینکه با 128 کاراکتر بالایی (منظور همون 128 کارکتری که بعد از کاراکتر های جدول ascii هستند) چه باید کرد، وجود داشت. به صورتی که با اطمینان نمیشد اسناد روسی رو تبادل کرد. به صورت خلاصه " نمیشد با یکی چهار خط روسی تبادل پیام کنی و اعتماد داشته باشی که اونم همون چیزی که تو نوشتی رو می بینه."



خلاصه وضعیتی شده بود ...


##  قسمت سوم: کمی تعریف

خب حالا که تا اینجا جلو اومدیم، یک مقدار تعاریف رو داشته باشیم:

ما در هر زبانی یک سری کاراکتر داریم، از کاراکتر های حروف الفبا گرفته تا کاراکتر های نگارشی اون زبان و ...
به اینها میگیم مجموعه ی کاراکتری یا همون charset

مثلا همین ascii خودمون، که در  [قسمت اول](#قسمت-اول-یک-بیت-اضافی)
  گفتیم char encoding هست، داره عملیات اینکدینگ خودش رو برای یک مجموعه کارکتر انجام میده.
به اون مجموعه کاراکتر میگیم charset


مثلا خود ascii میگه من  charset ای که دارم رو اینجوری تعریفش میکنم :


<div align= left dir= ltr>

> standard character set for computers and electronic devices

</div>

(یک مجموعه ی کاراکتر استاندارد برای کامپیوتر ها و لوازم الکترونیکی)



این رو هم بگم که این مفاهیم encoding و charset یه مقدار مرزبندی هاش در جا های مختلف؛ اشتباه میشه


صرفا برای اینکه مطمئن بشیم که چیزی که گفتیم در مورد charset و encoding درسته، میتونیم [ویکیپدیا](https://en.wikipedia.org/wiki/ASCII) رو چک کنیم  : 

<p align = "center">
<img src="/asset/wikipedia on ascii.jpg">


<div align= left dir= ltr>

> ascii is a character encoding standard for electronic communication

</div>


پس اگر بخواییم خلاصه بگیم، ascii میگه من یک مجموعه ی کاراکتری دارم (char set  ) که 127 تا عضو داره و میتونید توی جدول اسکی ببینیدش.
 بعد اون ها رو میام و به یک عدد 1 بایتی، نگاشت میدم ( encoding  )


دو مفهوم هستند که احتمالا در آینده خیلی باهاشون کار داریم:
 
<div align= left dir= ltr>

> Unicode is a character set. 

> UTF-8 is encoding.

</div>

(بعدا میخونیم یونیکد چی هست، فعلا این رو از ما قبول کنید)



</div>
